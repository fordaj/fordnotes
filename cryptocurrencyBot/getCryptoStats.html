<!DOCTYPE html>
<html>
<head>
    <title>Live Crypto Prices</title>
    <link rel="stylesheet" href="../style.css" />
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500&family=Roboto:wght@100;400;500&display=swap" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
</head>
<body>
    <h1><a target="_self" href="https://www.fordnotes.org">Notebook</a></h1>
    <h2>Cryptocurrency Trading Bot</h2>
    <h3>Live Cryptocurrency Prices</h3>
<p>To obtain live data on cryptocurrency prices, the python library, the <a target="_blank" href="https://github.com/ccxt/ccxt">CryptoCurrency eXchange Trading (CCXT) Library</a> will be used. Importing the library is as simple as running the following command in terminal:</p>    
<code>pip install ccxt</code>
<p>Once imported, the following script will endlessly gather data on all cryptocurrencies from the Poloniex exchange.</p>
<div style="overflow:hidden;"><pre style="margin: 0; line-height: 125%"><span style="color: #0000ff">import</span> os
    <span style="color: #0000ff">import</span> sys
    <span style="color: #0000ff">import</span> time
    root = os.path.dirname(os.path.dirname(os.path.dirname(os.path.abspath(__file__))))
    sys.path.append(root + <span style="color: #a31515">&#39;/python&#39;</span>)
    
    <span style="color: #0000ff">import</span> ccxt  <span style="color: #008000"># noqa: E402</span>
    
    
    <span style="color: #0000ff">def</span> print_exchanges():
        <span style="color: #0000ff">print</span>(<span style="color: #a31515">&#39;Supported exchanges:&#39;</span>, <span style="color: #a31515">&#39;, &#39;</span>.join(ccxt.exchanges))
    
    
    <span style="color: #0000ff">def</span> print_usage():
        <span style="color: #0000ff">print</span>(<span style="color: #a31515">&quot;Usage: python&quot;</span>, sys.argv[0], <span style="color: #a31515">&#39;id&#39;</span>)
        <span style="color: #0000ff">print</span>(<span style="color: #a31515">&quot;python&quot;</span>, sys.argv[0], <span style="color: #a31515">&#39;kraken&#39;</span>)
        <span style="color: #0000ff">print</span>(<span style="color: #a31515">&quot;python&quot;</span>, sys.argv[0], <span style="color: #a31515">&#39;coinbasepro&#39;</span>)
        print_exchanges()
    
    <span style="color: #0000ff">while</span> 1:
        <span style="color: #0000ff">try</span>:
        
            id = <span style="color: #a31515">&quot;poloniex&quot;</span>  <span style="color: #008000"># SPECIFY EXCHANGE (POLONIEX, COINBASE, KRAKEN, ETC)</span>
        
            <span style="color: #008000"># check if the exchange is supported by ccxt</span>
            exchange_found = id <span style="color: #0000ff">in</span> ccxt.exchanges
        
            <span style="color: #0000ff">if</span> exchange_found:
        
                <span style="color: #0000ff">print</span>(<span style="color: #a31515">&#39;Instantiating&#39;</span>, id)
        
                <span style="color: #008000"># instantiate the exchange by id</span>
                exchange = getattr(ccxt, id)({
                    <span style="color: #a31515">&#39;enableRateLimit&#39;</span>: True,  <span style="color: #008000"># https://github.com/ccxt/ccxt/wiki/Manual#rate-limit</span>
                })
        
                <span style="color: #0000ff">if</span> exchange.has[<span style="color: #a31515">&#39;fetchTickers&#39;</span>] != True:
                    <span style="color: #0000ff">raise</span> ccxt.NotSupported (<span style="color: #a31515">&#39;Exchange &#39;</span> + exchange.id + <span style="color: #a31515">&#39; does not have the endpoint to fetch all tickers from the API.&#39;</span>)
        
                <span style="color: #008000"># load all markets from the exchange</span>
                markets = exchange.load_markets()
        
                <span style="color: #0000ff">try</span>:
        
                    tickers = exchange.fetch_tickers()
                    <span style="color: #0000ff">for</span> symbol, ticker <span style="color: #0000ff">in</span> tickers.items():
                        <span style="color: #008000">#if symbol == &quot;ZRX/ETH&quot;: #TO ISOLATE ONE OR MORE CRYPTOCURRENCIES</span>
                            <span style="color: #0000ff">print</span>(
                                symbol,
                                ticker[<span style="color: #a31515">&#39;datetime&#39;</span>],
                                <span style="color: #a31515">&#39;high: &#39;</span> + str(ticker[<span style="color: #a31515">&#39;high&#39;</span>]),
                                <span style="color: #a31515">&#39;low: &#39;</span> + str(ticker[<span style="color: #a31515">&#39;low&#39;</span>]),
                                <span style="color: #a31515">&#39;bid: &#39;</span> + str(ticker[<span style="color: #a31515">&#39;bid&#39;</span>]),
                                <span style="color: #a31515">&#39;ask: &#39;</span> + str(ticker[<span style="color: #a31515">&#39;ask&#39;</span>]),
                                <span style="color: #a31515">&#39;volume: &#39;</span> + str(ticker[<span style="color: #a31515">&#39;quoteVolume&#39;</span>] <span style="color: #0000ff">or</span> ticker[<span style="color: #a31515">&#39;baseVolume&#39;</span>])
                            )
        
                <span style="color: #0000ff">except</span> ccxt.DDoSProtection <span style="color: #0000ff">as</span> e:
                    <span style="color: #0000ff">print</span>(type(e).__name__, e.args, <span style="color: #a31515">&#39;DDoS Protection (ignoring)&#39;</span>)
                <span style="color: #0000ff">except</span> ccxt.RequestTimeout <span style="color: #0000ff">as</span> e:
                    <span style="color: #0000ff">print</span>(type(e).__name__, e.args, <span style="color: #a31515">&#39;Request Timeout (ignoring)&#39;</span>)
                <span style="color: #0000ff">except</span> ccxt.ExchangeNotAvailable <span style="color: #0000ff">as</span> e:
                    <span style="color: #0000ff">print</span>(type(e).__name__, e.args, <span style="color: #a31515">&#39;Exchange Not Available due to downtime or maintenance (ignoring)&#39;</span>)
                <span style="color: #0000ff">except</span> ccxt.AuthenticationError <span style="color: #0000ff">as</span> e:
                    <span style="color: #0000ff">print</span>(type(e).__name__, e.args, <span style="color: #a31515">&#39;Authentication Error (missing API keys, ignoring)&#39;</span>)
            <span style="color: #0000ff">else</span>:
                <span style="color: #0000ff">print</span>(<span style="color: #a31515">&#39;Exchange&#39;</span>, id, <span style="color: #a31515">&#39;not found&#39;</span>)
                print_usage()
        
        <span style="color: #0000ff">except</span> Exception <span style="color: #0000ff">as</span> e:
        
            <span style="color: #0000ff">print</span>(type(e).__name__, e.args, str(e))
            print_usage()
    </pre></div>
    <a href="getTickerPrices.py" download><img src = "../icons/downloadPy.png" width="40px"></a>
</body>
</html>